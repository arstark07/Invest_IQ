<svg xmlns='http://www.w3.org/2000/svg' width='900' height='360'>
<rect width='900' height='360' fill='#f8fafc'/>
<rect x='20' y='40' width='120' height='60' fill='#e0f2fe' stroke='#0ea5e9'/>
<text x='80' y='75' font-family='Arial' font-size='12' text-anchor='middle'>User Action</text>
<rect x='170' y='40' width='150' height='60' fill='#dcfce7' stroke='#22c55e'/>
<text x='245' y='75' font-family='Arial' font-size='12' text-anchor='middle'>Validate &amp; Auth</text>
<rect x='360' y='40' width='150' height='60' fill='#fef3c7' stroke='#f59e0b'/>
<text x='435' y='75' font-family='Arial' font-size='12' text-anchor='middle'>DB Read/Write</text>
<rect x='550' y='40' width='150' height='60' fill='#ddd6fe' stroke='#8b5cf6'/>
<text x='625' y='65' font-family='Arial' font-size='12' text-anchor='middle'>Normalize Facts</text>
<text x='625' y='85' font-family='Arial' font-size='11' text-anchor='middle'>cache candidates</text>
<rect x='740' y='40' width='130' height='60' fill='#e0f2fe' stroke='#0ea5e9'/>
<text x='805' y='65' font-family='Arial' font-size='12' text-anchor='middle'>UI Render</text>
<rect x='360' y='160' width='150' height='60' fill='#bfdbfe' stroke='#3b82f6'/>
<text x='435' y='195' font-family='Arial' font-size='12' text-anchor='middle'>OpenRouter LLM</text>
<text x='435' y='215' font-family='Arial' font-size='11' text-anchor='middle'>JSON recs</text>
<rect x='550' y='160' width='150' height='60' fill='#fecdd3' stroke='#f43f5e'/>
<text x='625' y='195' font-family='Arial' font-size='12' text-anchor='middle'>Schema Validate</text>
<rect x='740' y='160' width='130' height='60' fill='#dcfce7' stroke='#22c55e'/>
<text x='805' y='195' font-family='Arial' font-size='12' text-anchor='middle'>Cache &amp; Return</text>
<line x1='140' y1='70' x2='170' y2='70' stroke='#0f172a' stroke-width='2' marker-end='url(#arrow)'/>
<line x1='320' y1='70' x2='360' y2='70' stroke='#0f172a' stroke-width='2' marker-end='url(#arrow)'/>
<line x1='510' y1='70' x2='550' y2='70' stroke='#0f172a' stroke-width='2' marker-end='url(#arrow)'/>
<line x1='700' y1='70' x2='740' y2='70' stroke='#0f172a' stroke-width='2' marker-end='url(#arrow)'/>
<line x1='435' y1='100' x2='435' y2='160' stroke='#0f172a' stroke-width='2' marker-end='url(#arrow)'/>
<line x1='510' y1='190' x2='550' y2='190' stroke='#0f172a' stroke-width='2' marker-end='url(#arrow)'/>
<line x1='700' y1='190' x2='740' y2='190' stroke='#0f172a' stroke-width='2' marker-end='url(#arrow)'/>
<defs>
  <marker id='arrow' markerWidth='10' markerHeight='10' refX='6' refY='3' orient='auto' markerUnits='strokeWidth'>
    <path d='M0,0 L0,6 L9,3 z' fill='#0f172a' />
  </marker>
</defs>
</svg>
